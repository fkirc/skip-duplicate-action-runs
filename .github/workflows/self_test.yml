on: [push, workflow_dispatch]

jobs:
  self_test:
    runs-on: ubuntu-latest
    steps:
      - uses: fkirc/skip-duplicate-action-runs@master
        id: skip
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
      - run: echo "Received output ${{ steps.skip.outputs.is_duplicate }}"
      - run: echo "Running slow tests..."
        if: ${{ steps.skip.outputs.is_duplicate != 'true' }}
